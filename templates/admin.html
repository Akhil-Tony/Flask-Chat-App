{% extends 'base.html' %}
{% block head %}
<title>Posts Page</title>
{% endblock %}

{% block body %}
        <br>        
        <div>
            <a style='display: inline' class='btn btn-success float-right'
             href='/posts/new'>New Post</a>
            <h1 class="text-muted" style='display: inline; font-family: monospace; font-size: 20px;
            '>YOUR TOPICS</h1>      
        </div>
        <br>
        <hr>

        {% for post in posts %}
        
        <div class="container" style="border-radius: 25px; 
        background-color: rgb(250, 235, 240);">
            {% if post.posted_by %}
            <small>{{post.posted_by}} on {{post.posted_on}}</small>
            {% else %}
            <small>Anonymous on {{post.posted_on}}</small>
            {% endif %}
            <h2>{{post.title}}</h2>
            <p style='white-space: pre-wrap'>{{post.content[:100]}} ....</p>
            <a href="/read_post/{{post.id}}">open post</a>        
            <br><br>
            <a href="/posts/delete/{{post.id}}">
              <button type="submit" class="btn btn-secondary">delete</button> 
              </a>
              <a href="/posts/edit/{{post.id}}">
              <button type="submit" class="btn btn-secondary">edit</button>
              </a>
            <hr>
          </div>
        
        {% endfor %}
        <br><br><br>
{% endblock %}